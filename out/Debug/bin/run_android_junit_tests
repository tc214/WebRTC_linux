#!/usr/bin/env vpython
#
# This file was generated by build/android/gyp/create_test_runner_script.py

import os
import sys

def main():
  script_directory = os.path.dirname(__file__)

  def ResolvePath(path):
    """Returns an absolute filepath given a path relative to this script.
    """
    return os.path.abspath(os.path.join(script_directory, path))

  test_runner_path = ResolvePath('../../../build/android/test_runner.py')
  test_runner_args = ['junit', '--test-suite', 'android_junit_tests']
  test_runner_path_args = [('--output-directory', '..'), ('--robolectric-runtime-deps-dir', '../lib.java/third_party/robolectric')]
  for arg, path in test_runner_path_args:
    test_runner_args.extend([arg, ResolvePath(path)])

  os.execv(test_runner_path,
           [test_runner_path] + test_runner_args + sys.argv[1:])

if __name__ == '__main__':
  sys.exit(main())
